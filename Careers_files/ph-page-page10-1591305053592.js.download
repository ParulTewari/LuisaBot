define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("ph-oauthsigin-autologin",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="ph.auth.checked",i=function(){function e(e,t,i){this.decodeJWT=i,this.cookieManager=e,this.localStorage=t,this.isAuthChecked=!("true"!=t.getItem(o))}return e.prototype.isTokenExpired=function(e){var t=this.decodeJWT.getToken(e);if(t.exp){var o=new Date(0);return o.setUTCSeconds(t.exp),!(o.valueOf()>(new Date).valueOf())}return!0},e.prototype.validateToken=function(){var e=this.localStorage.getItem("ph.msal.jwttoken");return e||(e=this.cookieManager.get("jwtToken")),e&&!this.isTokenExpired(e)},e.prototype.setJWTToken=function(e){this.localStorage.setItem("ph.msal.jwttoken",e)},e.prototype.authChecked=function(e){void 0===e&&(e="true"),this.localStorage.setItem(o,e)},e}();t.OauthsigninAutologin=i}),define("ph-oauthsignin-jwtdecode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getToken=function(e,t){if(void 0===t&&(t={header:!1}),"string"!=typeof e)throw new Error("Invalid token specified");var o=!0===t.header?0:1;try{return JSON.parse(this.base64UrlDecode(e.split(".")[o]))}catch(e){throw new Error("Invalid token specified: "+e.message)}},e.prototype.base64UrlDecode=function(t){var o=t.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw"Illegal base64url string!"}try{return this.base64DecodeUnicode(o)}catch(t){return e.ATOB(o)}},e.prototype.base64DecodeUnicode=function(t){return decodeURIComponent(e.ATOB(t).replace(/(.)/g,function(e,t){var o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))},e.ATOB="undefined"!=typeof window&&window.atob&&window.atob.bind(window),e}();t.OauthJWTDecode=o}),define("v1/ph-oauthsignin-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:"siteConfig",ddoKeyJwtLogout:"jwtLogout",ddoKeySocialProfile:"getSocialProviderProfile",ddoKeySitelProfile:"mergedProfile",ddoKeyCreateProfile:"createProfile",ddoKeyRedirectionData:"",validateJwtToken:"validateJwtToken",ddoKeyGetAppLogOut:"getAppLogOut",ddoKeyIsProfileUpdated:"isProfileUpdated",ddoKeyViewProfile:"viewProfile",ddoKeyJobCartCountV2:"jobCartCountV2",ddoKeyValidateEmail:"validateEmail",ddoKeyValidateCanTrackId:"validateCanTrackId",ddoKeyUpdateThirdPartyId:"updatethirdpartyid",ddoKeyMasterData:"profileMasterData"}}}),define("v1/ph-oauthsignin-model",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-oauthsignin-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.commonService=e}return e.prototype.makeDDORequest=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return(e||{})[t]})},e.prototype.getProfileMasterData=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.OauthsigninService=r});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-oauthsignin",["require","exports","aurelia-framework","ph-common","./ph-oauthsignin-config","./ph-oauthsignin-service","aurelia-event-aggregator"],function(e,t,o,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="ph-oauthsignin-v1",c={createProfile:"createProfile",oauthLi:"view1",login:"login",logout:"logout",myProfile:"myProfile",socialsso:"socialsso",imProfile:"imProfile",imSignin:"imSignin",serviceDownBanner:"serviceDownBanner",validateCandidateId:"canTrack",validateEmail:"validateEmail"},l=function(e){function t(t,o,i,r,n,a,c){var l=e.call(this,t,o,s)||this;return l.commonService=o,l.localStorage=i,l.oSigninService=r,l.cookieManager=n,l.eventAggregator=a,l.validationController=c,l.isSiteLogin=!1,l.countryComplaince=!1,l.disableAction=!1,l.viewType=null,l.oBasicProfile={},l.basicProfileForm={},l.showUpdateProfile=null,l.validateCanTrackIdErrorMsg="",l.referer="",l.pathName="",l.showErrorMsg=!1,l.isLoggingOut=!1,l.showDropDown=!1,l.onLoginError=null,l._countriesData=[],l._errorMessages={},l.user={isLoggedIn:null,userId:"",userType:"",siteType:"",socialProvider:"",showServiceDownBanner:null,redirectUri:"",logoutSuccess:null,addRedirectionUri:!1,isSiteLogin:!1,isSocialLogin:!1,email:"",profile:{firstName:"",middleName:"",lastName:"",preferredName:"",preferredFirstName:""}},l._user={},l.providerKey={FACEBOOK:"facebook",MICROSOFT:"microsoft",MICROSOFTCORPORATE:"microsoftCorporate",LINKEDINCORPORATE:"linkedinCorporate",LINKEDIN:"linkedIn",GOOGLE:"google"},l.providerCode={linkedin:"linkedIn",live_aad:"microsoftCorporate",google:"google",live:"microsoft",facebook:"facebook"},l.providers={},l.loginErrors={hasErrorThree:!1},l.handleLoginStatus=function(e,t){"ph-login"==e&&l.getValidJwtToken()},l.rootDomain=l.commonService.getRootDomain(),l.updateRootDomain(),l}return __extends(t,e),t.prototype.created=function(){window.phApp&&(window.phApp.loginStatus=this.handleLoginStatus),this.onLoginError=e.prototype.getQueryParam.call(this,"errorCode")},t.prototype.updateRootDomain=function(e){var t=window.phApp;this.baseDomain=e?this.rootDomain||t.baseDomain:t.baseDomain,i.logger.info("ROOT_DOMAIN: + "+t.rootDomain),i.logger.info("BASE_DOMAIN: + "+t.baseDomain)},t.prototype.handlePage=function(){var t=this,o={};switch(this.mode){case c.createProfile:e.prototype.hideLoader.call(this),this.countryComplaince?this.getCountryWithBasicProfile():this.getBasicProfile(),this._errorMessages.createprofile=[];break;case c.socialsso:case c.oauthLi:case c.login:this.onLoginError&&"three"===this.onLoginError&&(this.loginErrors.hasErrorThree=!0),this.handleLoginPage();break;case c.myProfile:this.eventAggregator.subscribe("loggedin",function(e){t.user.isLoggedIn=e.state}),this.user.isLoggedIn&&this.getFullProfile(),this.eventAggregator.subscribe("PROFILE_UPDATED",function(e){t.user.profile.firstName=e.firstName,t.user.profile.middleName=e.middleName,t.user.profile.preferredName=e.preferredName||"",t.user.profile.preferredFirstName=e.preferredFirstName||"",t.user.profile.lastName=e.lastName,!0===e.bannerFlag&&t.handleServicesDown(e.bannerFlag)});break;case c.logout:if(e.prototype.unhideLoader.call(this),this.localStorage.setItem("countryComplaince-_-"+window.location.href,{countryComplaince:this.countryComplaince,isFor:"complaince"}),!0===this.user.isLoggedIn)this.dologout();else if(!1===this.countryComplaince){var i=this.commonService.getBaseUrl();window.location.href=i}break;case c.imProfile:this.imInit();break;case c.imSignin:this.eventAggregator.subscribe("social-logout",function(){t.user.isLoggedIn=!1});break;case c.validateEmail:e.prototype.unhideLoader.call(this),o={token:e.prototype.getQueryParam.call(this,"token")},this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyValidateEmail,o).then(function(e){window.location.assign(t.commonService.getBaseUrl()+"login")});break;case c.validateCandidateId:e.prototype.unhideLoader.call(this),o={guid:e.prototype.getQueryParam.call(this,"guid")},this.localStorage.setItem("ph$$diug",o),this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyValidateCanTrackId,o).then(function(o){e.prototype.hideLoader.call(t),200==o.status?window.location.assign(t.commonService.getBaseUrl()+"login"):(t.localStorage.removeItem("ph$$diug"),t.showErrorMsg=!0,t.validateCanTrackIdErrorMsg=o.message)})}},t.prototype.handleSocialSSO=function(){if(this.mode===c.socialsso){var t=e.prototype.getQueryParam.call(this,"authType"),o=e.prototype.getQueryParam.call(this,"sendAfterAuthURL");if(t){var i=this.providerCode[t];this.doSSOlogin(i,o)}else window.location=this.commonService.getBaseUrl()}},t.prototype.doAutoLogin=function(e,t){},t.prototype.getFullProfile=function(){var e=this,t={};this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyViewProfile,t).then(function(t){if(t&&t.profile){var o=t.profile;e.user.profile=o}else e.user.profile={firstName:"",preferredFirstName:"",preferredName:"",middleName:"",lastName:""}})},t.prototype.handlePagePath=function(t,o){t.preventDefault();var i=this.localStorage.getItem("countryComplaince-_-"+window.location.href)||{},r=i.countryComplaince;this.localStorage.removeItem("countryComplaince-_-"+window.location.href);var n=this.commonService.getBaseUrl(),a=n;if(-1===n.lastIndexOf("/")&&(a+="/"),r)a+="login",window.location.href=a;else{var s=this.commonService.getPageName(),c=e.prototype.getQueryParam.call(this,"qpage")||window.location.pathname+window.location.search;c=decodeURIComponent(c),s=e.prototype.getQueryParam.call(this,"page")||s,s=decodeURIComponent(s),a+="login",window.location.href=a+"?qpage="+encodeURIComponent(c)+"&page="+s}},t.prototype.redirectToPage=function(e,t){var o=this.commonService.getBaseUrl();window.location.href=t?o+t:o},t.prototype.handleLoginPage=function(){var t=this;e.prototype.unhideLoader.call(this),this.commonService.getPageName(),this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKey).then(function(o){var r=o.data||{},n=r.siteSettings&&r.siteSettings.oauth;n?(t.providers=n,e.prototype.hideLoader.call(t),t.handleSocialSSO()):i.logger.info("siteconfig data not available...")})},t.prototype.attached=function(){e.prototype.attached.call(this),this.getValidJwtToken()},t.prototype.onError=function(){i.logger.info("onerror")},t.prototype.redirectMSCorp=function(){var e=this.providerKey,t=this.providers[e.MICROSOFTCORPORATE],o=t.loginUrl+"?response_type="+t.msal.response_type+"&response_mode="+t.msal.response_mode+"&";o+="client_id="+encodeURIComponent(t.clientId)+"&prompt=none&",t.resource&&(o+="resource="+encodeURIComponent(t.resource)+"&"),o+="redirect_uri="+encodeURIComponent(this.commonService.getRootDomain()+t.redirectUri),t.scope&&(o+="&scope="+encodeURIComponent(t.msal.scope)),window.location.assign(o)},t.prototype.redirectToProvider=function(e,t){var o=this.providerKey,i=e.loginUrl+"?response_type="+e.response_type+"&";switch(t){case o.MICROSOFT:case o.LINKEDIN:case o.LINKEDINCORPORATE:case o.MICROSOFTCORPORATE:i+="client_id="+encodeURIComponent(e.clientId)+"&",e.resource&&(i+="resource="+encodeURIComponent(e.resource)+"&");break;case o.GOOGLE:i+="client_id="+encodeURIComponent(e.clientId)+"&access_type=offline&approval_prompt=auto&";break;case o.FACEBOOK:i+="client_id="+encodeURIComponent(e.clientId)+"&"}if(t){if(i+="redirect_uri="+encodeURIComponent(e.redirectUriPath),e.scope&&(i+="&scope="+encodeURIComponent(e.scope)),e.state){var r=encodeURIComponent(e.state);t===o.FACEBOOK&&r&&(r=r.substring(1)),i+="&state="+r}window.location.href=i}else this.disableAction=!1},t.prototype.getLoacale=function(){var e=this.commonService.getLocale();return e=e.split("_"),e="/"+e[1]+"/"+e[0]+"/"},t.prototype.getOState=function(){var t=e.prototype.getQueryParam.call(this,"page")||"",o=(this.providers[name],this.getLoacale()),i=this.commonService.getLocale(),r=window.location.pathname,n=e.prototype.getQueryParam.call(this,"qpage")||"";n=decodeURIComponent(n);var a={page:r,protocol:window.location.protocol,localePath:o,qpage:n,pagename:t,locale:i};return JSON.stringify(a)},t.prototype.dologin=function(t,o){this.disableAction=!0;var r=e.prototype.getQueryParam.call(this,"qpage")||"";r=decodeURIComponent(r);var n=e.prototype.getQueryParam.call(this,"page")||"",a=this.providers[t],s=this.getLoacale(),c=this.commonService.getLocale(),l=window.location.pathname;r||(l+=window.location.search);var d={page:l,protocol:window.location.protocol,localePath:s,qpage:r,pagename:n,locale:c};o?(d.t="ns",d.page=l):this.user.addRedirectionUri&&(d.page=l),a?(a.redirectUriPath=this.commonService.getRootDomain()+a.redirectUri,a.state=JSON.stringify(d),this.redirectToProvider(a,t)):i.logger.info("provider doesnt exist")},t.prototype.doSSOlogin=function(e,t){this.disableAction=!0;var o=t;o=decodeURIComponent(o);var r=t,n=this.providers[e],a=this.getLoacale(),s=this.commonService.getLocale(),c={page:o,protocol:window.location.protocol,localePath:a,qpage:o,pagename:r,locale:s,sso:!0};n?(n.redirectUriPath=this.commonService.getRootDomain()+n.redirectUri,n.state=JSON.stringify(c),this.redirectToProvider(n,e)):i.logger.info("provider doesnt exist")},t.prototype.handleSignout=function(e){window.location.href=this.commonService.getBaseUrl()+"logout"},t.prototype.handleLogOut=function(t){var o=this;e.prototype.unhideLoader.call(this),this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyJwtLogout,{}).then(function(t){e.prototype.hideLoader.call(o),t.status&&"SUCCESS"==t.status.toUpperCase()&&t.data&&"string"==typeof t.data?window.location.href=t.data:window.location.href=o.commonService.getBaseUrl()+"logout",e.prototype.raiseEvent.call(o,"social-logout",{})},function(t){e.prototype.hideLoader.call(o),new Error(t)})},t.prototype.dologout=function(){var t=this;this.isLoggingOut=!0,this.eventAggregator.publish("loggedin",{state:null}),this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyGetAppLogOut).then(function(o){!o||"success"!=o.status&&200!=o.status?(t.user.logoutSuccess=!1,t.eventAggregator.publish("loggedin",{state:!0})):(t.localStorage.removeItem("ph$$diug"),t.user.logoutSuccess=!0,t.eventAggregator.publish("loggedin",{state:!1}),t.eventAggregator.publish("jobCartUpdatedCount","")),e.prototype.hideLoader.call(t),t.isLoggingOut=!1})},t.prototype.doIMLogout=function(){var t=this,o=r.WidgetConfig.v1.ddoKeyJwtLogout;e.prototype.unhideLoader.call(this),this.oSigninService.makeDDORequest(s,o).then(function(o){e.prototype.hideLoader.call(t),o.status&&"SUCCESS"==o.status.toUpperCase()&&o.data&&"string"==typeof o.data?window.location.href=o.data:window.location.href=t.commonService.getRootDomain()},function(o){e.prototype.hideLoader.call(t),new Error(o)})},t.prototype.imInit=function(){var e=this;document.addEventListener("click",function(){e.showDropDown=!1})},t.prototype.toggleDropDown=function(e){this.showDropDown=!this.showDropDown,e.stopPropagation()},t.prototype.getValidJwtToken=function(){var t=this;this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.validateJwtToken).then(function(o){if(t.updateState(o),t.validate(),t.handlePage(),e.prototype.hideLoader.call(t),t.user.isLoggedIn&&c.logout!==t.mode){var n=t.getCanTrackIdValue();if(n){i.logger.info("ph$$diug available");var a={thirdPartyId:n};t.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyUpdateThirdPartyId,a).then(function(e){200==e.status&&(t.localStorage.removeItem("ph$$diug"),i.logger.info("ph$$diug removed"))})}else i.logger.info("ph$$diug unavailable")}})},t.prototype.validate=function(){var e=this;this.user.isLoggedIn&&this.mode===c.oauthLi&&this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyIsProfileUpdated).then(function(t){t&&"linkedin"!=t.socialProvider&&(e.showUpdateProfile=!t.profileUpdated)})},t.prototype.updateState=function(e){var t=e||{},o=t.data||{};this.user.isLoggedIn=o.isValidToken||!1,this.user.userId=o.userId||"",this.user.isSiteLogin=o.isSiteLogin||!1,this.user.isSocialLogin=o.isSocialLogin||!1,this.user.userType=o.userType||"",this.user.siteType=o.siteType||"",this.user.socialProvider=o.socialProvider||"",this.user.redirectUri=o.redirectUri||"/",this.pageName=this.user.redirectUri,this.user.addRedirectionUri=!o.redirectionUriNotRequired;var i=t.bannerFlag||o.bannerFlag;200!=e.status&&"success"!==e.status||this.commonService.setDdoRespToStore("validateJwtToken",e),!1!==i&&!0!==i||this.handleServicesDown(i),this.isSiteLogin&&this.getProfile()},t.prototype.handleServicesDown=function(e){window.dispatchEvent(new CustomEvent("ON_SERVICES_DOWN",{detail:e})),phApp.$isServicesDown=e},t.prototype.getProfile=function(){var t=this;e.prototype.unhideLoader.call(this),this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeySitelProfile,{}).then(function(o){i.logger.info(o),o&&o.email&&(t.user.email=o.email),e.prototype.hideLoader.call(t)})},t.prototype.getBasicProfile=function(){var t=this;e.prototype.unhideLoader.call(this),this.validationController.validationErrors={};var o={};this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeySocialProfile,o).then(function(o){e.prototype.hideLoader.call(t),t.commonService.setValidationRules(phApp.validationRules||{}),t.commonService.setLangBundle(phApp.messages||{});var i=o.data;i&&(i.statusCode?(t.showError("E4444"),t.authReminder=i.message||o.message||"",e.prototype.hideLoader.call(t)):t.oBasicProfile=i),t.basicProfileForm=JSON.parse(JSON.stringify(t.oBasicProfile)),t.validationController.addValidationCtx(t.basicProfileForm,t.commonService.getValidationRules("profile"))},function(o){e.prototype.hideLoader.call(t),new Error(o)})},t.prototype.getCountryWithBasicProfile=function(){var e=this,t={};t.type="country",this.oSigninService.getProfileMasterData(s,r.WidgetConfig.v1.ddoKeyMasterData,t).then(function(t){if("success"==t.status)if(t&&t.data&&t.data.country){e.getBasicProfile();for(var o=t.data.country,i=0;i<o.length;i++)e._countriesData.push(o[i].displayName)}else e.showError("E202");else e.showError("E202")})},t.prototype.getCanTrackIdValue=function(){var e=this.localStorage.getItem("ph$$diug"),t=null;return e&&(t=e.guid),t},t.prototype.focustoerror=function(){var e=this;setTimeout(function(){var t=document.querySelector('[class^="alert-form-message"]');t?(t.scrollIntoView(),t.querySelector("button")&&t.querySelector("button").focus()):e.focustoerror()},10)},t.prototype.saveProfile=function(){var t=this;if(this.validationController.hasErrors()){var o=phApp.validationRules||{orderOfProps:[]},i=o.orderOfProps,n=this.validationController.validationErrors;if(this._errorMessages.createprofile=[],i){for(var a=0;a<i.length;a++){var c=i[a],l=n[c];l&&l.length&&this._errorMessages.createprofile.push(l)}this._errorMessages.createprofile=this._errorMessages.createprofile.filter(function(e){return e})}return this.showError("E999"),void this.focustoerror()}this.showErrorMsg=!1,this._errorMessages.createprofile=[],e.prototype.unhideLoader.call(this);var d=this.getCanTrackIdValue();this.basicProfileForm.guid=d,this.oSigninService.makeDDORequest(s,r.WidgetConfig.v1.ddoKeyCreateProfile,this.basicProfileForm).then(function(o){if(o)if(o.statusCode)t.showError("E4444"),t.authReminder=o.message,e.prototype.hideLoader.call(t);else{var i=o&&o.redirectUri;i?t.handlePageRedirectOnProfileCreate(i):(e.prototype.hideLoader.call(t),t.showError())}},function(o){e.prototype.hideLoader.call(t),new Error(o)})},t.prototype.handlePageRedirectOnProfileCreate=function(e){this.localStorage.removeItem("ph$$diug"),this.getCanTrackIdValue()?this.handlePageRedirectOnProfileCreate(e):window.location=this.baseDomain+e},t.prototype.showError=function(e){this.showErrorMsg=!0,this.errorCode=e||"E202"},t.prototype.closeError=function(e){this.showErrorMsg=!1,this.errorCode=""},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"mode",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"isSiteLogin",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"countryComplaince",void 0),t=__decorate([o.customElement(s),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,"function"==typeof(d=void 0!==i.LocalStorageAPI&&i.LocalStorageAPI)&&d||Object,n.OauthsigninService,"function"==typeof(h=void 0!==i.CookieManager&&i.CookieManager)&&h||Object,a.EventAggregator,"function"==typeof(p=void 0!==i.ValidationController&&i.ValidationController)&&p||Object])],t);var l,d,h,p}(i.PhenomWidget);t.Oauthsignin=l}),define("text!v1/ph-oauthsignin.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-oauthsignin-v1/create-profile/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/create-profile-view2/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/default/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/get-personalized/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/import-linkedin/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/my-profile/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/sign-out/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/socialsso/view.html",["module"],function(e){e.exports="<template> </template>"}),define("text!v1/views/ph-oauthsignin-v1/view1/view.html",["module"],function(e){e.exports="<template> </template>"}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v3/ph-global-search-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v3:{ddoKey:"globalSearchV3",ddoKeyEvent:"globalSearchEventV3",landingpageddoKey:"getBusinessRules",ddoKeyMOSSEARCH:"globalSearchMOSTitles"}},t.globalSearchConfig={globalSearchFeature:{mobileSearch:!0,militarySearch:!1,mobileSearchWithHeaderIcon:!1}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-global-search-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.commonService=e,this.params={}}return e.prototype.getSearchResults=function(e,t,o){var i=this.params;return o&&o.searchValue&&(delete i.field,delete i.sub_field,i.keywords=o.searchValue,i.category="category",i.location="location"),o&&o.condition&&o.condition.length&&(i.condition=o.condition),"globalSearchV3"==t&&(i.field="category",i.sub_field="internalCategoryId",i.location_size=2,i.category_size=2,i.job_size=3),this.commonService.getDDO(e,t,i).then(function(e){var o=e[t];if(o.jobLocations&&o.jobLocations.locations){var i=o.jobLocations.locations,r={};for(var n in i){var a=[];if(i.hasOwnProperty(n)){var s=i[n];for(var c in s){var l=s[c];l.location=l.name,l.field=n,a.push(l)}}r[n]=a}o[t]={locations:r}}return o})},e.prototype.getLandingpageKey=function(e,t,o){return void 0===o&&(o={}),this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e.prototype.getMOSSearchResults=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.GlobalSearchService=r});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-global-search",["require","exports","aurelia-framework","ph-common","aurelia-event-aggregator","./ph-global-search-config","./ph-global-search-service"],function(e,t,o,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=".ph-header-search-icon",c=function(e){function t(t,o,i,r,n,a){var l=e.call(this,t,o,c.elementTag)||this;return l.element=t,l.commonService=o,l.globalSearchService=i,l.eventAggregator=r,l.localStorage=n,l.WidgetConfig=a,l.placeholderText="Enter job title",l.showTitle=!0,l.showCaption=!0,l.searchValue="",l.arrowNavigation=!0,l.mosVisibleCategories=!1,l.reloadOnClear=!1,l.checkValidation=!1,l.searchUrl="search-results",l.isLandingPage=0,l.categoryColumnCount=2,l.inlineSearch=!0,l.preFillSearchedKey=!0,l.showDropDown=!1,l.showAllJobCategories=!0,l.showJobSuggestions=!0,l.showRecentSearches=!0,l.isDisabled=!0,l.recentlySearchedKeys=l.localStorage.getItem("globalSearch"),l.recentSearchStorage=[],l.itemSBHasFocus=!1,l.isEnterClick=!0,l.keywordsSearched=[],l.suggestedJobResults=[],l.suggestedJobResultsNames=[],l.suggestedMOSKeywords=[],l.gsFeature={},l.isMobileEnabled=!1,l.isMilitarySearch=!1,l.isMOSSearchEnabled=!0,l.isMOSClick=!1,l.mosCode="",l.showError=!1,l.suggestedKeywords=[],l.copyMOSKeywords=[],l.gsClrTxt=0,l.isSearchInFocus=!1,l.subscriptions=[],l.resultsUpdated=!1,l.searchBoxBackdrop=!1,l.isHeadSearchEnabled=!1,l.allSuggestions=l.getAllJobSuggestions(),l.handleInputFocus=function(e){if(l.element.firstElementChild.classList.contains("ph-mobile-search-backdrop")){l.element.firstElementChild.classList.add("ph-mobile-search-enabled");var t=e&&e.target&&e.target.closest(".ph-search-group"),o=l.element.querySelector(".form-group");if(t&&o&&l.isMobileEnabled&&(o.classList.contains("ph-mobile-search")||o.classList.add("ph-mobile-search"),t.classList.contains("ph-mobile-search")||t.classList.add("ph-mobile-search")),document.body.scrollTop=0,document.body.style.overflow="hidden",l.element.querySelector(s)){l.isHeadSearchEnabled=!0;var i=l.element.querySelector("input.ph-input-search");i&&i.focus()}}},l}return __extends(t,e),c=t,t.prototype.getAllJobSuggestions=function(){var e=this.isFull;return{show:null,updateShow:function(){var t={jobs:e(this.jobs),locations:e(this.locations),categories:e(this.categories),keywords:e(this.keywords),searched:e(this.searched),all:!1};for(var o in t)if(t.hasOwnProperty(o)&&1==t[o]){t.all=!0;break}return t},jobs:null,locations:null,categories:null,keywords:null,searched:null,boundaries:null}},t.prototype.attached=function(){var t=this;if(e.prototype.attached.call(this),!this.hasFeature&&!this.hasFeature("auto-complete","a11y")){var o=this.handleActionOutsideScope.bind(this);document.addEventListener("mouseup",o,!1),document.addEventListener("keyup",this.keyUpCallback.bind(this),!1)}if(this.isMilitarySearch=!(!this.element||!this.element.getAttribute("ph-mos-search")),this.gsFeature=this.commonService.getSiteSettings("globalSearchFeature"),this.gsFeature&&this.gsFeature.hasOwnProperty("militarySearch")&&(this.isMOSSearchEnabled=this.isMilitarySearch||this.gsFeature.militarySearch),this.isDisabled=!!this.isMilitarySearch||this.checkValidation,this.preFillSearchedKey&&(this.searchValue=e.prototype.getSearchKeyword.call(this)||""),this.isLandingPage&&(this.rk=this.rk?this.rk:this.commonService.phenomAppManager.getSessionParams("rk"),this.rk&&this.rk.length>0)){var i={},r={};return r.landingPageKeys=[this.rk],i.pageIdentifier=r,this.globalSearchService.getLandingpageKey(c.elementTag,n.WidgetConfig[c.version].landingpageddoKey,i).then(function(e){e&&e.data&&e.data[t.rk]&&(t.condition=e.data[t.rk].condition)})}var a=this.commonService.getSiteSettings("globalSearchFeature");a&&Object.keys(a).length&&a.mobileSearch&&setTimeout(function(){window.addEventListener("resize",function(){t.eventAggregator.publish("globalsearchv3resize",{})}),t.handleSearchOnWindowResize()},500),this.subscriptions.push(this.eventAggregator.subscribe("globalsearchv3resize",function(e){t.handleSearchOnWindowResize()})),setTimeout(function(){var e=t.element.querySelector(".ph-a11y-search-box");e&&e.addEventListener("focus",function(){t.searchBoxBackdrop=!0})},100)},t.prototype.handleSearchOnWindowResize=function(){var e=this.element.querySelector(s),t=window.innerWidth;if(e&&this.gsFeature&&this.gsFeature.mobileSearchWithHeaderIcon)this.isMobileEnabled=!0,t<=767?e.addEventListener("click",this.handleInputFocus):(this.isMobileEnabled=!1,e.removeEventListener("click",this.handleInputFocus),this.clearBackdrop());else if(t<=767){this.isMobileEnabled=!0;for(var o=this.element.querySelectorAll("input.ph-input-search")||[],i=0;i<o.length;i++)o[i].addEventListener("focusin",this.handleInputFocus)}else{this.isMobileEnabled=!1;for(var o=this.element.querySelectorAll("input.ph-input-search")||[],i=0;i<o.length;i++)o[i].removeEventListener("focusin",this.handleInputFocus);this.clearBackdrop()}},t.prototype.handleSelection=function(e){if(this.inlineSearch)for(var t=e.target;t!=this;){if("A"==t.nodeName){var o=t.getAttribute("data-option-title");return void(o?this.searchValue=o:console.warn("value not found"))}t=t.parentNode}},t.prototype.handleActionOutsideScope=function(e){var t=e.target;if(13===e.keyCode||void 0==e.keyCode){for(var o=!0,i=void 0;t;)if(t=t.parentElement,i=t&&t.className){if(null==t||-1==i.indexOf("phs-global-search"))o=!0;else if(i.indexOf("phs-global-search")>=0){o=!1;break}}else t||(o=!0);o&&this.handleBlur()}else 27!=e.keyCode&&9!=e.keyCode||this.handleBlur()},t.prototype.handleBlur=function(){this.showDropDown=this.showAllJobCategories=this.showJobSuggestions=!1},t.prototype.handleSuggestedKeysArrowKeysData=function(){function e(){return t=document.querySelectorAll(".phs-keyword-suggestions li a"),o=t.length-1,i>=o?i=o:i<0&&(i=0),t[i]}var t,o,i=-1;return{next:function(){return i+=1,e()},prev:function(){return i-=1,e()}}},t.prototype.handleCategoryArrowKeysData=function(){function e(e){r=0==e&&0==r?a:0,i=o==i+1?0:i+1,a=t[i]?t[i].length-1:a}var t=this.allJobCategories,o=t.length,i=0,r=-1,n=1,a=t[i].length-1;return{next:function(){return n=1,r==a?e(n):r++,{
column:i,delta:r}},prev:function(){return n=0,0==r?e(n):r--,{column:i,delta:r}},reset:function(){r=n?r-1:r+1}}},t.prototype.searchValueChanged=function(e){var t=this,o=t.searchValue||"",i=o&&o.length>0;i&&(t.showDropDown=!0),t.showDropDown&&(i?(t.showAllJobCategories||t.showJobSuggestions)&&(this.isMilitarySearch?(this.fetchMilitaryJobSuggestions(),this.mosVisibleCategories&&t.fetchJobSuggestions()):t.fetchJobSuggestions()):t.fetchJobCategories()),t.isDisabled=!i},t.prototype.handleCategoryOptions=function(e,t){var o,i;switch(e.keyCode){case 37:case 39:break;case 38:this.arrowNavigation&&(i=t.prev(),(o=document.querySelector("#phs-lia_"+i.column+"_"+i.delta))&&o.focus());break;case 40:this.arrowNavigation&&(i=t.next(),(o=document.querySelector("#phs-lia_"+i.column+"_"+i.delta))&&o.focus())}},t.prototype.handleSuggestedKeyOptions=function(e,t){var o;switch(e.keyCode){case 38:this.arrowNavigation&&(o=t.prev())&&o.focus();break;case 40:this.arrowNavigation&&(o=t.next())&&o.focus()}},t.prototype.keyUpCallback=function(e){if(9===e.keyCode){var t=document.querySelectorAll(".ph-suggestion-focus-block");if(t.length)for(var o=0,i=t;o<i.length;o++){var r=i[o],n=r&&r.contains(document.activeElement);n?this.itemSBHasFocus=!0:(this.handleBlur(),this.itemSBHasFocus=!1)}}if(27===e.keyCode)return this.handleBlur(),!0},t.prototype.arrowKeyUp=function(e){if(this.hasFeature&&this.hasFeature("auto-complete","a11y"))return!0;var t=null;if(13===e.keyCode&&!1===this.itemSBHasFocus){var o=e.target&&e.target.href||"";""===o&&this.handleSubmitClick(o)}else 1==this.showJobSuggestions?(t=this.allSuggestions.boundaries,this.handleSuggestedKeyOptions(e,t)):1==this.showAllJobCategories&&(t=this.allJobCategories.boundaries,this.handleCategoryOptions(e,t))},t.prototype.handleItemFocus=function(e){switch(e.type){case"focus":console.info("hello")}},t.prototype.clearBackdrop=function(e){var t=this.element.querySelectorAll(".ph-search-group"),o=this.element.querySelector(".form-group"),i=this.element.querySelector(".ph-mobile-search-enabled");if(t&&o&&i){i.classList.remove("ph-mobile-search-enabled"),o.classList.contains("ph-mobile-search")&&o.classList.remove("ph-mobile-search");for(var r=0;r<t.length;r++)t[r].classList.contains("ph-mobile-search")&&t[r].classList.remove("ph-mobile-search");if(this.showDropDown=!1,document.body.style.overflow="",e&&e.target){var n=this.element.querySelector(s),a=this.element.querySelector(".phs-search-submit");n&&this.gsFeature&&this.gsFeature.mobileSearchWithHeaderIcon?a=n:document.body.style.overflow="initial",a&&a.focus()}}},t.prototype.handleFocus=function(e){var t=this,o=t.searchValue||"";switch(e.type){case"focus":o.length>0?t.isMilitarySearch?t.fetchMilitaryJobSuggestions():t.fetchJobSuggestions():t.isMilitarySearch?this.mosVisibleCategories&&t.fetchJobCategories():t.fetchJobCategories()}},t.prototype.isFull=function(e){return null!=e&&"object"==typeof e&&Object.keys(e).length>0},t.prototype.clearSearch=function(e){var t=this;if(this.reloadOnClear){var o=window.location.origin+window.location.pathname;window.location.assign(o)}else this.isDisabled=!0,this.showDropDown=!1,this.searchValue="",this.gsClrTxt=1,this.element.querySelector(".ph-a11y-search-box")&&(this.element.querySelector(".ph-a11y-search-box").focus(),setTimeout(function(){t.searchBoxBackdrop=!0},100))},t.prototype.isEmpty=function(e){return!e||0==e.length},t.prototype.fetchJobSuggestions=function(){var e=this;this.showDropDown=!1;var t={},o=this.allSuggestions;t.searchValue=this.searchValue,this.condition&&this.condition.length>0&&(t.condition=this.condition);var i=this.fetchMilitaryJobSuggestions(),r=this.globalSearchService.getSearchResults(c.elementTag,n.WidgetConfig[c.version][c.ddoKeyEvent],t).then(function(t){if(e.suggestedJobs=t.jobTitles.data.titles,e.suggestedKeywords=t.jobTitles.data.suggestions||[],o.keywords=e.suggestedKeywords,e.suggestedJobs){for(var i=0;i<e.suggestedJobs.length;i++){var r=e.suggestedJobs[i].title.replace(/<em>/g,"");r=r.replace(/<\/em>/g,"")}o.jobs=e.suggestedJobs}if(t.jobLocations&&t.jobLocations.locations){if(e.suggestedLocations=[],t.jobLocations.locations.city)for(var n=0;n<t.jobLocations.locations.city.length;n++)e.suggestedLocations.push(t.jobLocations.locations.city[n]);if(t.jobLocations.locations.country)for(var n=0;n<t.jobLocations.locations.country.length;n++)e.suggestedLocations.push(t.jobLocations.locations.country[n]);if(t.jobLocations.locations.state)for(var n=0;n<t.jobLocations.locations.state.length;n++)e.suggestedLocations.push(t.jobLocations.locations.state[n]);o.locations=t.jobLocations.locations}if(e.suggestedCategories=t.jobCategories.data.agg,e.suggestedCategories){for(var n=0;n<e.suggestedCategories.length;n++)e.suggestedCategories[n].key=e.suggestedCategories[n].category;o.categories=e.suggestedCategories}return e.populateRecentSearches(),document.activeElement===e.element.querySelector(".ph-a11y-search-box")&&(e.showDropDown=!0),e.showAllJobCategories=!1,e.showJobSuggestions=!0,o.show=o.updateShow(),e.isEmpty(e.suggestedJobs)&&e.isEmpty(e.suggestedLocations)&&e.isEmpty(e.suggestedCategories)&&!(e.keywordsSearched&&e.keywordsSearched.length>0)&&e.isEmpty(e.suggestedKeywords)||(e.element.querySelector(".job-filter"),e.element.querySelector(".phs-keywords"),e.element.querySelectorAll(".phs-keyword-suggestions li")),e.suggestedJobResults=[],e.suggestedJobResultsNames.length&&e.suggestedJobResultsNames.map(function(t){e.suggestedJobResults="keywordsSearched"==t?e.suggestedJobResults.concat(e[t].slice(0,3)):e.suggestedJobResults.concat(e[t])}),e.allSuggestions.searched&&(e.suggestedJobResults=e.suggestedJobResults.concat(e.allSuggestions.searched.slice(0,3))),e.suggestedJobResults},function(e){new Error(e)});return Promise.all([r,i]).then(function(t){return e.resultsUpdated=!0,setTimeout(function(){e.resultsUpdated=!1},1e3),t[0].concat(t[1])})},t.prototype.setMOSKeyword=function(e,t){this.setMOSKeywordValue(e,t),t&&"click"==t.type&&this.handleSubmitClick()},t.prototype.setMOSKeywordValue=function(e,t){if(e){var o="";e.title&&(o=e.title),this.isDisabled=!1,this.searchValue=o.replace(/<(?:.|\n)*?>/gm,""),this.mosCode=e.mos_code}},t.prototype.setMOSFocusField=function(e){-1==e&&(e=0);var t=!1;if(!this.isMOSClick&&this.searchValue.length&&this.suggestedMOSKeywords&&this.suggestedMOSKeywords.length){this.showDropDown=!1;for(var o=0;o<this.suggestedMOSKeywords.length;o++)this.searchValue==this.suggestedMOSKeywords[o]&&(t=!0);t||(e=e||0==e?e:0,this.suggestedMOSKeywords[e]&&this.suggestedMOSKeywords[e].title&&this.suggestedMOSKeywords[e].title.length&&(this.searchValue=this.suggestedMOSKeywords[e].title),this.suggestedMOSKeywords[e]&&this.suggestedMOSKeywords[e].mos_code&&(this.mosCode=this.suggestedMOSKeywords[e].mos_code))}},t.prototype.fetchMilitaryJobSuggestions=function(){var e=this;if(!this.isMOSSearchEnabled)return new Promise(function(e,t){e([])});"undefined"!=typeof event&&"object"==typeof event&&(this.focusedElement=event&&event.target),this.showDropDown=!1,this.isMOSClick=!1;var t=(this.allSuggestions,{});return t.size=3,t.keywords=this.searchValue,this.isMilitarySearch&&(t.size=5),this.condition&&this.condition.length>0&&(t.condition=this.condition),this.globalSearchService.getMOSSearchResults(c.elementTag,n.WidgetConfig[c.version][c.ddoKeyMOSSEARCH],t).then(function(t){return t=t&&t.data||{},t&&t.results&&t.results.length?(e.suggestedMOSKeywords=t.results,e.isDisabled=!1):t.searchConfig&&(e.suggestedMOSKeywords=[],e.isDisabled=!0,e.isMOSSearchEnabled=t.searchConfig.isMOSSearchEnabled),document.activeElement===e.element.querySelector(".ph-a11y-search-box")&&(e.showDropDown=!0),e.resultsUpdated=!0,setTimeout(function(){e.resultsUpdated=!1},1e3),e.suggestedMOSKeywords})},t.prototype.fetchJobCategories=function(){var e=this;this.showDropDown=!1;var t={};return t.searchValue=this.searchValue,this.condition&&this.condition.length>0&&(t.condition=this.condition),this.globalSearchService.getSearchResults(c.elementTag,n.WidgetConfig[c.version][c.ddoKey],t).then(function(t){return t.data.category&&t.data.category.forEach(function(e){e.key||(e.key=e.category)}),document.activeElement===e.element.querySelector(".ph-a11y-search-box")&&(e.showDropDown=!0),e.populateRecentSearches(),e.allJobCategories=e.singleArrayChunk(t.data.category,e.categoryColumnCount),e.showAllJobCategories=!0,e.showJobSuggestions=!1,e.suggestedJobResults=[],e.keywordsSearched=e.keywordsSearched.slice(0,3),e.suggestedJobResults=e.suggestedJobResults.concat(t.data.category),e.resultsUpdated=!0,setTimeout(function(){e.resultsUpdated=!1},1e3),e.allJobCategories},function(e){new Error(e)})},t.prototype.onError=function(e){i.logger.debug("ph-global-search: error..."+e)},t.prototype.chunk=function(e,t){var o,i=[],r=t,n=Math.floor(e.length/r),a=e.length%r,s=0;for(a>0&&(n+=1);r;)o=1==r?e.length:s+n,i.push(e.slice(s,o)),s=o,r--;return i},t.prototype.handleSubmitClick=function(t){var o=this;if(this.isMilitarySearch)if(this.suggestedMOSKeywords.length){var r=!1;this.suggestedMOSKeywords.forEach(function(e){e.title==o.searchValue&&(!o.mosCode&&e.mos_code&&(o.mosCode=e.mos_code),r=!0)}),r||(this.searchValue=this.suggestedMOSKeywords[0].title,this.mosCode=this.suggestedMOSKeywords[0].mos_code)}else if(!this.mosVisibleCategories)return;if(this.showError=!1,this.searchValue&&this.isEnterClick||!this.checkValidation){this.checkValidation=!1,this.isEnterClick=!1,this.mosCode||(this.updateLocalStrWithRecentSearchDetails(this.searchValue,!0),this.storeKeywordsForRecommendation());var n={};n.trait6=this.searchValue;try{this.commonService.processTrackingEvent("page_search",void 0,n)}catch(e){i.logger.debug(e.message)}var a=void 0,s="";if(this.mosCode&&(s="&ms=true&moscode="+this.mosCode),"search-results"==this.searchUrl)a=e.prototype.getUrl.call(this,null,this.searchUrl,{},"keywords="+this.searchValue+s);else{var c=-1==this.searchUrl.indexOf("?")?"?keywords=":"&keywords=";a=this.commonService.getBaseUrl()+this.searchUrl+c+this.searchValue+s}window.location.assign(a)}else this.showError=!0},t.prototype.updateLocalStorage=function(){var e=this.localStorage.getItem("globalSearch")||[];-1==e.indexOf(this.searchValue)&&(e.push(this.searchValue),this.localStorage.setItem("globalSearch",e)),this.recentSearchStorage=e},t.prototype.populateRecentSearches=function(){null!=this.commonService.getSpecificTrackCtx(c.globalSearchKeywords)?(this.allSuggestions.searched=this.commonService.getSpecificTrackCtx(c.globalSearchKeywords),this.showRecentSearches=!0):this.showRecentSearches=!1},t.prototype.getCategoryUrl=function(e){return"/us/en/c/"+e.toLowerCase()+"-jobs"},t.prototype.updateLocalStrWithRecentSearchDetails=function(e,t){if(!0===t||!1===this.inlineSearch){null!=e&&e.length>0&&(this.searchValue=e);var o=[];null!=this.commonService.getSpecificTrackCtx(c.globalSearchKeywords)&&(o=this.commonService.getSpecificTrackCtx(c.globalSearchKeywords)),this.searchValue&&this.searchValue.length&&(-1==o.indexOf(this.searchValue)?o.unshift(this.searchValue):(o.splice(o.indexOf(this.searchValue),1),o.unshift(this.searchValue)),this.commonService.setSpecificTrackCtx(c.globalSearchKeywords,o))}return!0},t.prototype.storeKeywordsForRecommendation=function(){var e=[];if(null!=this.commonService.getSpecificTrackCtx(c.searchKeywords)&&(e=this.commonService.getSpecificTrackCtx(c.searchKeywords)),this.searchValue&&this.searchValue.length){if(null!=e){for(var t in e)if(e[t].keyword==this.searchValue){e.splice(t,1);break}}else e=[];e.unshift({keyword:this.searchValue,timeStamp:(new Date).toUTCString()}),this.commonService.setSpecificTrackCtx(c.searchKeywords,e)}},t.prototype.detached=function(){if(this.element.firstElementChild&&this.element.firstElementChild.classList.contains("ph-mobile-search-backdrop")){window.removeEventListener("resize",this.handleSearchOnWindowResize);for(var e=this.element.querySelectorAll("input.ph-input-search"),t=0;t<e.length;t++)e[t].removeEventListener("focusin",this.handleInputFocus)}this.subscriptions.forEach(function(e){e.dispose()})},t.prototype.getWidgetBundleValue=function(e,t,o){return this.widgetBundle&&this.widgetBundle[e]?this.widgetBundle[e]:o?o.getAttribute(t):void 0},t.prototype.singleArrayChunk=function(e,t){window.innerWidth<=767&&(t=1);for(var o=[],i=[],r=Math.floor(e.length/t),n=e.length%t,a=0;a<t;a++){for(var s=[],c=0;c<r;c++){var l=c+a*r;s.push(e[l])}n>=1&&(s.push(e[e.length-(a+1)]),n-=1),o.push(s)}if(o.length){for(var d=0;d<o[0].length;d++)for(var h=0;h<o.length;h++)o[h][d]&&i.push(o[h][d]);o=i}return o},t.prototype.setKeywordSuggested=function(e){this.suggestedJobResultsNames=e},t.prototype.getFieldOptions=function(e){var t=this;switch(e){case"typehead":return this.searchValue.length>0?this.isMilitarySearch?this.fetchMilitaryJobSuggestions():this.fetchJobSuggestions():(this.isSearchInFocus=!0,this.isMilitarySearch?(this.resultsUpdated=!0,setTimeout(function(){t.resultsUpdated=!1},1e3),[]):this.fetchJobCategories())}},t.prototype.setFieldValue=function(e,t){switch(e){case"typehead":if(this.searchValue.length){if(this.isMilitarySearch){if(this.suggestedMOSKeywords.length&&this.suggestedMOSKeywords[t]){this.setMOSKeyword(this.suggestedMOSKeywords[t]),this.mosCode=this.suggestedMOSKeywords[t].mos_code,this.isMOSClick=!0;var o=this.element.querySelector(".listitem-focused a");this.fireClick(o)}else if(this.suggestedMOSKeywords.length&&-1==t){this.setMOSKeyword(this.suggestedMOSKeywords[0]),this.mosCode=this.suggestedMOSKeywords[0].mos_code,this.isMOSClick=!0;var o=this.element.querySelectorAll(".phs-suggested-mos-keywords-list li a");this.fireClick(o[0])}}else if(this.suggestedJobResults.length&&this.suggestedJobResults[t]){var o=this.element.querySelector(".listitem-focused a");this.fireClick(o)}}else if(this.isMilitarySearch){if(this.allSuggestions.searched.length&&this.allSuggestions.searched[t]){this.setMOSKeyword(this.allSuggestions.searched[t]),this.mosCode=this.suggestedMOSKeywords[t].mos_code,this.isMOSClick=!0;var o=this.element.querySelector(".listitem-focused a");this.fireClick(o)}}else if(this.allJobCategories.length&&this.allJobCategories[t]){var o=this.element.querySelector(".listitem-focused a");this.fireClick(o)}}},t.prototype.fireClick=function(e){if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},t.prototype.getActiveIndex=function(e){var t=this,o=-1;switch(e){case"typehead":return this.searchValue.length>0?this.isMilitarySearch?this.suggestedMOSKeywords.forEach(function(e,i){e.title==t.searchValue&&(o=i)}):this.suggestedJobResults.forEach(function(e,i){var r=e&&e.key||e&&e.category;r&&r==t.searchValue&&(o=i)}):this.allJobCategories&&this.allJobCategories.length&&this.allJobCategories.forEach(function(e,i){e.key==t.searchValue&&(o=i)}),o}return o},t.prototype.clearFieldValue=function(e){},t.prototype.getActiveIndexOnBlur=function(e,t){this.gsClrTxt=0,this.isSearchInFocus=!1,this.element.querySelector(".ph-a11y-search-box")!=document.activeElement&&(this.searchBoxBackdrop=!1),this.showDropDown=!1,this.isMilitarySearch&&this.setMOSFocusField(e)},t.prototype.setFocusField=function(e,t){this.focusedField=e,t?(this.focusedField=void 0,this.showDropDown=!1):this.isMilitarySearch&&this.searchValue.length>0&&0==this.suggestedMOSKeywords.length?this.handleBlur():document.activeElement===this.element.querySelector(".ph-a11y-search-box")&&(this.showDropDown=!0)},t.prototype.getUrl=function(t,o,i,r,n){if("job"==o||"search-results"==this.searchUrl||"category"==o){if(this.rk&&this.rk.length&&"job"!=o&&(r="&rk="+this.rk),"category"==o&&"search-results"!=this.searchUrl){r=r+"&category="+encodeURIComponent(i.key||i.name||"");var a=e.prototype.getUrlQueryString.call(this,t,this.searchUrl,i,r,n),s=-1==this.searchUrl.indexOf("?")?"?":"&",c=this.commonService.getBaseUrl()+this.searchUrl+s+a;return c}return e.prototype.getUrl.call(this,t,o,i,r,n)}var a=e.prototype.getUrlQueryString.call(this,t,this.searchUrl,i,r,n),s=-1==this.searchUrl.indexOf("?")?"?":"&",c=this.commonService.getBaseUrl()+this.searchUrl+s+a;return c},t.version="v3",t.ddoKey="ddoKey",t.ddoKeyEvent="ddoKeyEvent",t.ddoKeyMOSSEARCH="ddoKeyMOSSEARCH",t.elementTag="ph-global-search-"+c.version,t.globalSearchKeywords="globalSearch_keywords",t.searchKeywords="keywords",__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",String)],t.prototype,"placeholderText",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"showTitle",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"showCaption",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"searchValue",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"arrowNavigation",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"mosVisibleCategories",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"reloadOnClear",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"checkValidation",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"searchUrl",void 0),__decorate([o.bindable,__metadata("design:type",Number)],t.prototype,"isLandingPage",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"rk",void 0),__decorate([o.bindable,__metadata("design:type",Number)],t.prototype,"categoryColumnCount",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"inlineSearch",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"preFillSearchedKey",void 0),t=c=__decorate([o.customElement(c.elementTag),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,a.GlobalSearchService,r.EventAggregator,"function"==typeof(d=void 0!==i.LocalStorageAPI&&i.LocalStorageAPI)&&d||Object,Object])],t);var c,l,d}(i.PhenomWidget);t.GlobalSearch=c}),define("text!v3/ph-global-search.html",["module"],function(e){e.exports='<template>\r\n\t<compose view.bind="tmplUrl" containerless>\r\n</template>'}),define("text!v3/views/ph-global-search-v3/default/view.html",["module"],function(e){
e.exports='<template>\r\n<form role="search" class="phs-global-search-area ph-widget-box"  keyup.delegate="arrowKeyUp($event)" novalidate>\r\n    <div class="search-text-block">\r\n        <h1 if.bind="showTitle">\r\n            <ppc-content key="literal-1482132226713-45">Do what you love </ppc-content>\r\n        </h1>\r\n        <p if.bind="showCaption">\r\n            <ppc-content key="literal-1482132226714-46">Search jobs</ppc-content>\r\n        </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <div class="input-group">\r\n            <div class="job-filter ph-suggestion-focus-block">\r\n                <label class="sr-only" for="search">\r\n                      <ppc-content key="literal-1481279554825-44">Search</ppc-content>\r\n                 </label>\r\n                <input type="search" \r\n                       name="phsKeywords" \r\n                       placeholder.bind="placeholderText" \r\n                       class="form-control phs-keywords input-lg" \r\n                       value.bind="searchValue & debounce:100"\r\n                       focus.trigger="handleFocus($event)" \r\n                       autocomplete="off"\r\n                       id="search"\r\n                       aria-describedby="${placeholderText}">\r\n                        <span class="search-sym">\r\n                            <ppc-content type="icon"><i class="icon icon-search"></i></ppc-content>\r\n                        </span>\r\n                        <a class="phs-keysearch-clear" click.trigger="clearSearch($event)" show.bind="searchValue" href="javascript:void(0)">\r\n                            <ppc-content type="icon"><i class="icon icon-cancel"></i></ppc-content>\r\n                                <span class="sr-only">\r\n                                    <ppc-content key="literal-1481279554825-45">Search menu open clear text</ppc-content>\r\n                                </span>\r\n                        </a>\r\n                <div class="phs-search-suggestions" if.bind="showDropDown">\r\n                    <div class="phs-search-type-ahead phs-onclick-category" if.bind="showAllJobCategories">\r\n                        <div class="phs-search-categories">\r\n                            <h3><ppc-content key="literal-1481279554825-46">Job Categories</ppc-content></h3>\r\n                            <ul class="phs-search-category-list" repeat.for="categoryColumns of allJobCategories">\r\n                                <li repeat.for="category of categoryColumns" class="job-search-keyblock job-container-category_${$parent.$index}_${$index}" >\r\n                                    <a ph-tevent="job_category_click"  \r\n                                        id="phs-lia_${$parent.$index}_${$index}" \r\n                                        ref="linkEle"\r\n                                        data-option-title="${category.key}"\r\n                                        href="${getUrl(linkEle, \'category\', category)}">\r\n                                        <span class="phs-${category.key}">${category.key}</span>\r\n                                        <span class="phs-jobs-count phs-${category.total_count}">${category.total_count}</span>\r\n                                        \x3c!--<span>${category.key}</span>\r\n                                         <span class="phs-jobs-count">${category.total_count}</span>--\x3e\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="phs-keyword-suggestions" if.bind="showAllJobCategories">\r\n                        \x3c!--Location--\x3e\r\n                        \x3c!--TODO: for city, state, country property name dependent on app changes expected locationName--\x3e\r\n                        <div class="phs-locations-suggested" if.bind="allSuggestions.show.locations && (allSuggestions.locations.city.length || allSuggestions.locations.state.length || allSuggestions.locations.country.length)">\r\n                            <h3 tabindex="0">\r\n                                <ppc-content key="literal-130">\r\n                                    Location\r\n                                </ppc-content>\r\n                            </h3>\r\n                            <ul class="phs-locations-suggested-list">\r\n                                <li repeat.for="eachCity of allSuggestions.locations.city" class="phsLocationsSuggested_${$index}">\r\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\r\n                                        id="phs-lia_1_${$index}"\r\n                                        href="${getUrl(linkEle, \'search-results\', eachCity, \'qcity=\'+eachCity.city+\'&qstate=\'+eachCity.state+\'&qcountry=\'+eachCity.country)}" \r\n                                        data-ph-tevent-attr-trait59="location" \r\n                                        data-ph-tevent-attr-trait60="${eachCity.name}"\r\n                                        data-option-title="${eachCity.name}" \r\n                                        data-category="${eachCity.name}">\r\n                                        <span innerhtml= "${(eachCity.locationName ? eachCity.locationName_html : eachCity.cityStateCountry) | sanitizeHTML}"></span>\r\n                                        <span if.bind="eachCity.isSuggested" class="suggested-location">   \r\n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\r\n                                        </span>\r\n                                        <span class="phs-jobs-count">${eachCity.count}</span>\r\n                                    </a>\r\n                                </li>\r\n                                <li repeat.for="eachState of allSuggestions.locations.state" class="phsLocationsSuggested_${$index}">\r\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\r\n                                        id="phs-lia_2_${$index}"\r\n                                        href="${getUrl(linkEle, \'search-results\', eachState, \'qstate=\'+eachState.state+\'&qcountry=\'+eachState.country)}" \r\n                                        data-ph-tevent-attr-trait59="location" \r\n                                        data-ph-tevent-attr-trait60="${eachState.name}" \r\n                                        data-option-title="${eachState.name}" \r\n                                        data-category="${eachState.name}">\r\n                                        <span innerhtml= "${(eachState.locationName ? eachState.locationName_html : eachState.stateCountry) | sanitizeHTML}"></span>\r\n                                        <span if.bind="eachState.isSuggested" class="suggested-location">   \r\n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\r\n                                        </span>\r\n                                        <span class="phs-jobs-count">${eachState.count}</span>\r\n                                    </a>\r\n                                </li>\r\n                                <li repeat.for="eachCountry of allSuggestions.locations.country " class="phsLocationsSuggested_${$index}">\r\n                                    <a ph-tevent="type_ahead_search" ref="linkEle"\r\n                                        id="phs-lia_3_${$index}" \r\n                                        href="${getUrl(linkEle, \'search-results\', eachCountry, \'qcountry=\'+eachCountry.name)}" \r\n                                        data-ph-tevent-attr-trait59="location" \r\n                                        data-ph-tevent-attr-trait60="${eachCountry.name}"\r\n                                        data-option-title="${eachCountry.name}"  \r\n                                        data-category="${eachCountry.name}"> \r\n                                        <span innerhtml= "${(eachCountry.locationName ? eachCountry.locationName_html : eachCountry.stateCountry) | sanitizeHTML}"></span>\r\n                                        <span if.bind="eachCountry.isSuggested" class="suggested-location">   \r\n                                            <ppc-content key="literal-132"> . suggested location</ppc-content>\r\n                                        </span>\r\n                                        <span class="phs-jobs-count">${eachCountry.count}</span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                    \r\n                        </div>\r\n                        \x3c!--Jobs--\x3e\r\n                        <div class="phs-jobs-suggested" if.bind="allSuggestions.show.jobs">\r\n                            <h3><ppc-content key="literal-127">Jobs</ppc-content></h3>\r\n                            <ul class="phs-jobs-list">\r\n                                <li repeat.for="eachJob of allSuggestions.jobs">\r\n                                    <a ph-tevent="type_ahead_search" \r\n                                        id="phs-lia_0_${$index}" ref="linkEle" \r\n                                        href="${getUrl(linkEle, \'job\', eachJob)}" \r\n                                        data-ph-tevent-attr-trait59="jobId"\r\n                                        data-ph-tevent-attr-trait60="${eachJob.jobSeqNo}"\r\n                                        data-option-title="${eachJob.title}"  \r\n                                        data-title="${eachJob.title}"\r\n                                        data-jobid="${eachJob.id}">\r\n                                        <div class="phs-job-title">\r\n                                            <span class="sr-only">\r\n                                                <ppc-content key="literal-128">Job title</ppc-content>\r\n                                            </span>\r\n                                            <span innerhtml="${eachJob.title_html | sanitizeHTML}"></span>\r\n                                        </div>\r\n                                        \r\n                                        <div class="phs-job-info" if.bind="eachJob.location">\r\n                                            <span class="phs-job-location">\r\n                                                <span class="sr-only"><ppc-content key="literal-129">Location</ppc-content></span>\r\n                                                ${eachJob.location}\r\n                                            </span>\r\n                                            <span class="phs-job-category">\r\n                                                <span class="sr-only">\r\n                                                    <ppc-content key="literal-130">Category</ppc-content>\r\n                                                </span>\r\n                                                ${eachJob.category}\r\n                                            </span>\r\n                                        </div>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        \x3c!--Category--\x3e\r\n                        <div class="phs-categorys-suggested" if.bind="allSuggestions.show.categories">\r\n                        \r\n                            <h3>\r\n                                <ppc-content key="literal-132">Category</ppc-content>\r\n                            </h3>\r\n                            <ul class="phs-categorys-suggested-list">\r\n                                <li repeat.for="eachCategory of allSuggestions.categories">\r\n                                    <a ph-tevent="type_ahead_search" id="phs-lia_0_${$index}"\r\n                                       ref="linkEle" \r\n                                       href="${getUrl(linkEle, \'category\', eachCategory)}" data-ph-tevent-attr-trait59="category"\r\n                                       data-ph-tevent-attr-trait60="${eachCategory.category}"\r\n                                       data-option-title="${eachCategory.category}" \r\n                                       data-category="${eachCategory.category}"> \r\n                                       ${eachCategory.category}\r\n                                        <span class="phs-jobs-count">${eachCategory.count}</span>\r\n                                        </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                            \x3c!--Recent Searches--\x3e\r\n                        <div class="phs-recentsearches-suggested" if.bind="allSuggestions.show.searched">\r\n                            <h3>\r\n                                <ppc-content key="literal-133">Recent Searches</ppc-content>\r\n                            </h3>\r\n                            <ul class="search-recentsearchs-list">\r\n                                <li repeat.for="eachKeyword of allSuggestions.searched" show.bind="$index < 3">\r\n                                    <a ph-tevent="type_ahead_search" \r\n                                        id="phs-lia_4_${$index}" ref="linkEle" \r\n                                        data-ajax="false"\r\n                                        data-option-title="${eachKeyword}"  \r\n                                        click.delegate="updateLocalStrWithRecentSearchDetails(eachKeyword)"\r\n                                        href="${getUrl(linkEle, \'search-results\', {keyword: eachKeyword}, \'keywords=\'+eachKeyword)}"\r\n                                        data-ph-tevent-attr-trait59="recent_keyword" \r\n                                        data-ph-tevent-attr-trait60="${eachKeyword}">${eachKeyword}</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        \x3c!--Suggested Keywords--\x3e\r\n                        \x3c!--property name dependent on app changes expected locationName--\x3e\r\n                        <div class="phs-suggested-keywords-suggested" if.bind="allSuggestions.show.keywords && !allSuggestions.show.jobs" >\r\n                            <h3>\r\n                                <ppc-content key="literal-134">\r\n                                    Suggested keywords\r\n                                </ppc-content>\r\n                            </h3>\r\n                            <ul class="phs-suggested-keywords-list" click.delegate="handleSelection($event)">\r\n                                <li repeat.for="eachKeyword of allSuggestions.keywords" show.bind="$index < 3">\r\n                                    <a ph-tevent="type_ahead_search" \r\n                                        id="phs-lia_5_${$index}" \r\n                                        ref="linkEle" \r\n                                        data-ajax="false"\r\n                                        data-option-title="${eachKeyword}"  \r\n                                        click.delegate="updateLocalStrWithRecentSearchDetails(eachKeyword)"\r\n                                        href="${inlineSearch ? \'javascript:void(0)\' : getUrl(linkEle, \'search-results\', {keyword: eachKeyword}, \'keywords=\'+eachKeyword)}"\r\n                                        data-ph-tevent-attr-trait59="recent_keyword" \r\n                                        data-ph-tevent-attr-trait60="${eachKeyword}">${eachKeyword}</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="phs-search-suggestions" if.bind="showDropDown && !showAllJobCategories">\r\n                    <div class="phs-keyword-suggestions">\r\n                       <ul class="phs-locations-suggested-list">\r\n                        <li> No data found</li>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span class="input-group-btn">\r\n                <button type="submit"\r\n                        submit.delegate="handleSubmitClick()" \r\n                        click.delegate="handleSubmitClick()" \r\n                        title="Find jobs"\r\n                        class="btn primary-button btn-lg phs-search-submit">\r\n                    <ppc-content type="icon"><i class="icon icon-search"></i></ppc-content>\r\n                    <span><ppc-content key="literal-135">Find jobs</ppc-content></span>\r\n                </button>\r\n             </span>\r\n        </div>\r\n    </div>\r\n</form>\r\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-language-selector-config",["require","exports"],function(e,t){"use strict";t.WidgetConfig={v1:{ddoKey:"supportedLanguages"}}}),define("v1/ph-language-selector-model",["require","exports"],function(e,t){"use strict"});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-language-selector-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";var r=function(){function e(e){this.commonService=e}return e.prototype.supportedLanguages=function(e,t){return this.commonService.getDDO(e,t,{}).then(function(e){return e[t].data})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.LanguageSelectorService=r});var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},__decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-language-selector",["require","exports","aurelia-framework","ph-common","./ph-language-selector-config","./ph-language-selector-service"],function(e,t,o,i,r,n){"use strict";var a="ph-language-selector-v1",s=function(e){function t(t,o,i){e.call(this,t,o,a),this.languageSelectorService=i,this.samePage=!1,this.supportedLanguages=[]}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),e.prototype.hideLoader.call(this),this.supportedLangs()},t.prototype.supportedLangs=function(){var t=this;e.prototype.unhideLoader.call(this),this.languageSelectorService.supportedLanguages(a,r.WidgetConfig.v1.ddoKey).then(function(o){e.prototype.hideLoader.call(t),t.supportedLanguages=o;var i=t.commonService.getLocale()||"";t.supportedLanguages&&t.supportedLanguages.forEach(function(e){e.locale=e.locale.toLowerCase(),e.locale.toLowerCase()===i.toLowerCase()&&(t.chosenLanguage=e)})})},t.prototype.languageChanged=function(e){if(e){var t=e.baseUrl;this.samePage&&(t+=location.pathname,location.search&&location.search.trim().length>0&&(t+=location.search)),location.assign(t)}},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable,__metadata("design:type",Boolean)],t.prototype,"samePage",void 0),t=__decorate([o.customElement(a),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(s=void 0!==i.CommonService&&i.CommonService)&&s||Object,n.LanguageSelectorService])],t);var s}(i.PhenomWidget);t.LanguageSelector=s}),define("text!v1/ph-language-selector.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-language-selector-v1/default/view.html",["module"],function(e){e.exports='<template>\n    Supported Languages\n    <div repeat.for="lang of supportedLanguages">\n        <a click.delegate="languageChanged(lang)"> ${lang.locale}</a>\n    </div>\n</template>'}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v3/ph-job-cart-count-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v3:{ddoKey:"jobCartCountV2"}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-job-cart-count-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.commonService=e}return e.prototype.jobCartCount=function(e,t,o){return this.commonService.getDDO(e,t,o).then(function(e){return e[t]})},e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.JobCartCountService=r});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v3/ph-job-cart-count",["require","exports","aurelia-framework","ph-common","./ph-job-cart-count-config","./ph-job-cart-count-service","aurelia-event-aggregator"],function(e,t,o,i,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="v3",c="ph-job-cart-count-"+s,l=function(e){function t(t,o,i,n){var a=e.call(this,t,o,c)||this;return a.eventAggregator=i,a.jobCartCountService=n,a.jobCartCount=0,a.getJobCartCount=function(){a.jobCartCountService.jobCartCount(c,r.WidgetConfig[s].ddoKey,{}).then(function(e){a.jobCartCount=e.result})},a.updatedJobCartCount=function(){a.eventAggregator.subscribe("jobCartUpdatedCount",function(e){a.getJobCartCount()})},a}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),this.getJobCartCount(),this.updatedJobCartCount()},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),t=__decorate([o.customElement(c),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(l=void 0!==i.CommonService&&i.CommonService)&&l||Object,a.EventAggregator,n.JobCartCountService])],t);var l}(i.PhenomWidget);t.JobCartCount=l}),define("text!v3/ph-job-cart-count.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v3/views/ph-job-cart-count-v3/default/view.html",["module"],function(e){e.exports="<template>\n\x3c!-- view html here --\x3e\n</template>"}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-glassdoor-response",["require","exports"],function(e,t){"use strict";(function(){function e(){this.ceo={}}})(),function(){function e(){}}(),function(){function e(){}}()}),define("v1/ph-glassdoor-widget-config",["require","exports"],function(e,t){"use strict";t.WidgetConfig={v1:{ddoKey:"glassdoorReviews"}}});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-glassdoor-widget-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";var r={},n=function(){function e(e){this.commonService=e}return e.prototype.getServiceResults=function(e,t){return this.commonService.getDDO(e,t,r).then(function(e){return e})},e}();n=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(a=void 0!==i.CommonService&&i.CommonService)&&a||Object])],n),t.GlassdoorWidgetService=n;var a});var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},__decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-glassdoor-widget.1",["require","exports","aurelia-framework","ph-common","./ph-glassdoor-widget-config","./ph-glassdoor-widget-service"],function(e,t,o,i,r,n){"use strict";var a="ph-glassdoor-widget-v1",s=function(e){function t(t,o,i,r){var n=e.call(this,t,o,a)||this;return n.glassdoorWidgetService=i,n.count=4,n.glassdoorJson={},n.employeeReviews=[],n.companyPhotos=[],n.companyReviews=[],n.maxPhotoSize=5,n.activeTabName="reviews",n.donutTotal=0,n.donut={},n.singleDonut={},n.showSinglePi=!0,n.singlePiPercentage=0,n.singlePiStoke="#0078D7",n.piEnd=0,n._donut={elm:null,cgc:null,end:0,lineWidth:5,rw:76,rh:76,singleColor:"#0078D7",positiveColor:"#0078D7",neutralColor:"#CCC",negetiveColor:"#C80000"},n}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),this.updateDonut()},t.prototype.created=function(){this.getGlassdoorData()},t.prototype.updateDonut=function(){for(var e in this._donut)this._donut.hasOwnProperty(e)&&!this.donut.hasOwnProperty(e)&&(this.donut[e]=this._donut[e])},t.prototype.seggregateJsonData=function(e){this.glassdoorJson=e,this.employeeReviews=e.reviews},t.prototype.getGlassdoorData=function(){var t=this;e.prototype.unhideLoader.call(this),this.glassdoorWidgetService.getServiceResults(a,r.WidgetConfig.v1.ddoKey).then(function(o){var i=o.glassdoorReviews.data;e.prototype.hideLoader.call(t),i.companyAndCEOReviews||i.companyPhotosAndInfo||i.companyAndCEOReviews.reviews.length||i.companyPhotosAndInfo.companyPhotos.length?(t.companyPhotos=i.companyPhotosAndInfo.companyPhotos,t.companyReviews=i.companyAndCEOReviews.reviews,t.employerData=i.companyAndCEOReviews.employer,t.companyInterviewExperience=i.companyInterviewExperience,t.donut.isEnabled&&t.getDonut(),t.showSinglePi&&t.addPi(t.singlePiPercentage),t.employerData.companyAverageRating=i.companyAverageRating,t.ceoData=i.companyAndCEOReviews.ceo):e.prototype.onError.call(t,"")},function(o){new Error(o),e.prototype.hideLoader.call(t),e.prototype.onError.call(t,"")})},t.prototype.addPi=function(t){t=t||0;var o=e.prototype.getElement.call(this),i=o.querySelector(".ceoExperienceDonut");this.donut.cgc=i.getContext("2d"),this.singlePi(t,100,this.singlePiStoke)},t.prototype.getDonut=function(){var t=this.companyInterviewExperience.employer,o=Math.ceil(t.overallPosExperiencePercent),i=Math.ceil(t.overallNeutExperiencePercent),r=o+i,n=0;r<=100&&(n=100-r),this.employerData.overallPosExperiencePercent=o,this.employerData.overallNeutExperiencePercent=i,this.employerData.overallNegExperiencePercent=n;var a=o+i+n;this.donutTotal=a;var s=e.prototype.getElement.call(this);this.donut.elm=s.querySelector(".interviewExperienceDonut"),this.donut.cgc=this.donut.elm.getContext("2d"),this.piEnd=1.5*Math.PI,this.donutPi(o,a,this.donut.positiveColor),this.donutPi(i,a,this.donut.neutralColor),this.donutPi(n,a,this.donut.negetiveColor)},t.prototype.donutPi=function(e,t,o){var i=this.donut,r=i.cgc,n=2*Math.PI*(e/t);r.beginPath(),r.arc(i.rw/2,i.rh/2,i.rh/2-i.lineWidth,this.piEnd,this.piEnd+n,!1),r.lineWidth=i.lineWidth,r.strokeStyle=o,r.stroke(),this.piEnd+=n},t.prototype.singlePi=function(e,t,o){var i=this.donut,r=i.cgc,n=1.5*Math.PI,a=2*Math.PI*(e/t);r.beginPath(),r.arc(i.rw/2,i.rh/2,i.rh/2-i.lineWidth,n,n+a,!1),r.lineWidth=i.lineWidth,r.strokeStyle=o,r.stroke()},t.prototype.switchTab=function(e){this.activeTabName=e},t}(i.PhenomWidget);__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],s.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Number)],s.prototype,"count",void 0),__decorate([o.bindable(),__metadata("design:type",Number)],s.prototype,"maxPhotoSize",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"donut",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"singleDonut",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"showSinglePi",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"singlePiPercentage",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"singlePiStoke",void 0),s=__decorate([o.customElement(a),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(c=void 0!==i.CommonService&&i.CommonService)&&c||Object,n.GlassdoorWidgetService,Object])],s),t.GlassdoorWidget=s;var c});var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},__decorate=this&&this.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}
;define("v1/ph-glassdoor-widget",["require","exports","aurelia-framework","ph-common","./ph-glassdoor-widget-config","./ph-glassdoor-widget-service"],function(e,t,o,i,r,n){"use strict";var a="ph-glassdoor-widget-v1",s=function(e){function t(t,o,i,r){var n=e.call(this,t,o,a)||this;return n.glassdoorWidgetService=i,n.count=4,n.glassdoorJson={},n.employeeReviews=[],n.companyPhotos=[],n.companyReviews=[],n.maxPhotoSize=5,n.activeTabName="reviews",n.donutTotal=0,n.donut={},n.showSinglePi=!0,n.singlePiPercentage=0,n.singlePiStoke="#0078D7",n._donut={elm:null,cgc:null,end:0,useFloor:!0,lineWidth:6,rw:76,rh:76,positiveColor:"#0078D7",neutralColor:"#CCC",negetiveColor:"#C80000"},n}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),this.updateDonut()},t.prototype.created=function(){this.getGlassdoorData()},t.prototype.updateDonut=function(){for(var e in this._donut)this._donut.hasOwnProperty(e)&&!this.donut.hasOwnProperty(e)&&(this.donut[e]=this._donut[e])},t.prototype.seggregateJsonData=function(e){this.glassdoorJson=e,this.employeeReviews=e.reviews},t.prototype.getGlassdoorData=function(){var t=this;e.prototype.unhideLoader.call(this),this.glassdoorWidgetService.getServiceResults(a,r.WidgetConfig.v1.ddoKey).then(function(o){var i=o.glassdoorReviews.data;if(e.prototype.hideLoader.call(t),i.companyAndCEOReviews||i.companyPhotosAndInfo||i.companyAndCEOReviews.reviews.length||i.companyPhotosAndInfo.companyPhotos.length){t.companyPhotos=i.companyPhotosAndInfo.companyPhotos,t.companyReviews=i.companyAndCEOReviews.reviews,t.employerData=i.companyAndCEOReviews.employer,t.companyInterviewExperience=i.companyInterviewExperience,t.donut.isEnabled&&t.getDonut();var r=i.companyAndCEOReviews.employer.overallRating;if(t.employerData.companyAverageRating=r.toFixed(1)||r,t.ceoData=i.companyAndCEOReviews.ceo,t.showSinglePi){var n=t.ceoData.pctApprove;t.addPi(n)}}else e.prototype.onError.call(t,"")},function(o){new Error(o),e.prototype.hideLoader.call(t),e.prototype.onError.call(t,"")})},t.prototype.getDonut=function(){var t=this.companyInterviewExperience.employer;if(this.donut.useFloor)var o=Math.floor(t.overallPosExperiencePercent),i=Math.floor(t.overallNeutExperiencePercent),r=Math.floor(t.overallNegExperiencePercent);else{var o=Math.ceil(t.overallPosExperiencePercent),i=Math.ceil(t.overallNeutExperiencePercent),n=o+i,r=0;n<=100&&(r=100-n)}this.employerData.overallPosExperiencePercent=o,this.employerData.overallNeutExperiencePercent=i,this.employerData.overallNegExperiencePercent=r;var a=o+i+r;this.donutTotal=a>100?100:a;var s=e.prototype.getElement.call(this);this.donut.elm=s.querySelector(".interviewExperienceDonut"),this.donut.cgc=this.donut.elm.getContext("2d"),this.donut.end=1.5*Math.PI,this.donutPi(o,a,this.donut.positiveColor),this.donutPi(i,a,this.donut.neutralColor),this.donutPi(r,a,this.donut.negetiveColor)},t.prototype.donutPi=function(e,t,o){var i=this.donut,r=i.cgc,n=2*Math.PI*(e/t);r.beginPath(),r.arc(i.rw/2,i.rh/2,i.rh/2-i.lineWidth,i.end,i.end+n,!1),r.lineWidth=i.lineWidth,r.strokeStyle=o,r.stroke(),this.donut.end+=n},t.prototype.addPi=function(t){var o=this.donut;t=t||0;var i=e.prototype.getElement.call(this),r=i.querySelector(".ceoExperienceDonut"),n=r.getContext("2d"),a=1.5*Math.PI,s=2*Math.PI*(t/100);n.beginPath(),n.arc(o.rw/2,o.rh/2,o.rh/2-6,a,a+s,!1),n.lineWidth=6,n.strokeStyle=this.singlePiStoke,n.stroke()},t.prototype.switchTab=function(e){this.activeTabName=e},t}(i.PhenomWidget);__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],s.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Number)],s.prototype,"count",void 0),__decorate([o.bindable(),__metadata("design:type",Number)],s.prototype,"maxPhotoSize",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"donut",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"showSinglePi",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"singlePiPercentage",void 0),__decorate([o.bindable,__metadata("design:type",Object)],s.prototype,"singlePiStoke",void 0),s=__decorate([o.customElement(a),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(c=void 0!==i.CommonService&&i.CommonService)&&c||Object,n.GlassdoorWidgetService,Object])],s),t.GlassdoorWidget=s;var c}),define("text!v1/ph-glassdoor-widget.html",["module"],function(e){e.exports='<template>\r\n\t<compose view.bind="tmplUrl" containerless>\r\n</template>'}),define("text!v1/views/ph-glassdoor-widget-v1/default/view.html",["module"],function(e){e.exports='<template>\r\n  <div ph-loading-img="show-loader.bind: showLoader" class="show-loader" show.bind="showLoader"></div>\r\n  <div class="phs-glassdoor-area ph-widget-box" show.bind="!showLoader">\r\n    <div class="widget-container">\r\n      <div class="phs-widget-heading">\r\n        <h2>\r\n          <ppc-content>\r\n            Glassdoor Reviews\r\n          </ppc-content>\r\n        </h2>\r\n        <div class="phs-rating-container">\r\n          <ppc-content type="icon">\r\n            <i class="icon icon-star-empty"></i>\r\n            <i class="icon icon-star-empty"></i>\r\n            <i class="icon icon-star-empty"></i>\r\n            <i class="icon icon-star-empty"></i>\r\n            <i class="icon icon-star-empty"></i>\r\n          </ppc-content>\r\n          <div class="phs-rating-stars" style="width: ${(employerData.overallRating * 100)/5}%">\r\n            <ppc-content type="icon">\r\n              <i class="icon icon-star"></i>\r\n              <i class="icon icon-star"></i>\r\n              <i class="icon icon-star"></i>\r\n              <i class="icon icon-star"></i>\r\n              <i class="icon icon-star"></i>\r\n            </ppc-content>\r\n          </div>\r\n        </div>\r\n        <p class="phs-section-sub-title">\r\n          <ppc-content>\r\n            powered by Glassdoor\r\n          </ppc-content>\r\n        </p>\r\n      </div>\r\n      <div class="phs-ui-nav-tabs-1">\r\n        <div class="content-block">\r\n          <ul class="nav nav-tabs" role="tablist">\r\n            <li role="presentation" class="tab-nav ${activeTabName == \'reviews\' ? \'active\' : \'\'}">\r\n              <a role="tab" aria-controls="Reviews" ph-tevent="glassdoor_reviews_tab_click" click.delegate="switchTab(\'reviews\')">\r\n              <ppc-content>Reviews</ppc-content></a>\r\n            </li>\r\n            <li role="presentation" class="tab-nav ${activeTabName == \'photos\' ? \'active\' : \'\'}" click.delegate="switchTab(\'photos\')" show.bind="companyPhotos.length > 0">\r\n              <a role="tab" aria-controls="Photos" ph-tevent="glassdoor_photos_tab_click">\r\n                <ppc-content>Photos</ppc-content></a>\r\n            </li>\r\n          </ul>\r\n          <div class="tab-content">\r\n            <div role="tabpanel" class="tab-pane fade ${activeTabName == \'reviews\' ? \'active in \' : \'\'}" aria-labelledby="Reviews-tab">\r\n              <ul class="reviews-list">\r\n                <li class="reviews-list-item" repeat.for="eachReview of companyReviews" show.bind="$index < count">\r\n                  <div class="review-info">\r\n                    <h5>${eachReview.headline}</h5>\r\n                    <p>\r\n                     <span show.bind="eachReview.currentJob"><ppc-content>\r\n                        Current employee -\r\n                      </ppc-content></span>\r\n                      <span show.bind="!eachReview.currentJob"><ppc-content>\r\n                        Former employee -\r\n                      </ppc-content></span>\r\n                      <span show.bind="eachReview.jobTitle">${eachReview.jobTitle}</span>\r\n                      <span show.bind="eachReview.location">in ${eachReview.location}</span>\r\n                    </p>\r\n                  </div>\r\n                  <div class="phs-rating-container">\r\n                    <ppc-content type="icon">\r\n                      <i class="icon icon-star-empty"></i>\r\n                      <i class="icon icon-star-empty"></i>\r\n                      <i class="icon icon-star-empty"></i>\r\n                      <i class="icon icon-star-empty"></i>\r\n                      <i class="icon icon-star-empty"></i>\r\n                    </ppc-content>\r\n                    <div class="phs-rating-stars" style="width: ${(eachReview.overallNumeric * 100)/5}%">\r\n                      <ppc-content type="icon">\r\n                        <i class="icon icon-star"></i>\r\n                        <i class="icon icon-star"></i>\r\n                        <i class="icon icon-star"></i>\r\n                        <i class="icon icon-star"></i>\r\n                        <i class="icon icon-star"></i>\r\n                      </ppc-content>\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n               <div class="view-more">\r\n                <a ph-tevent="view_all_glassdoor_reviews_click" ref="linkEle"\r\n                   href="${getUrl(linkEle, \'glassdoor-reviews\', {})}">\r\n                  <ppc-content>\r\n                    View More\r\n                  </ppc-content>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div role="tabpanel" show.bind="companyPhotos.length > 0" class="tab-pane fade Photos-tab ${activeTabName == \'photos\' ? \'active in\' : \'\'}" aria-labelledby="Photos-tab">\r\n              <ul class="photos-list photo-count-${maxPhotoSize}">\r\n                <li class="photos-list-item item-${$index+1}" repeat.for="photo of companyPhotos" show.bind="$index < maxPhotoSize">\r\n                  <figure>\r\n                      <img src.bind="photo" class="img-responsive" alt="Glass company group images"/>  \r\n                  </figure>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n'}),define("text!v1/views/ph-glassdoor-widget-v1/view1/view.html",["module"],function(e){e.exports='<template>\r\n  \r\n     <div class="phs-glassdoor-area ph-widget-box" role="region" key-role="regionRole" aria-label="glassdoor" key-aria-label="glassdoorLabel">\r\n                        <div class="widget-container">\r\n                        <div class="phs-widget-heading">\r\n                            <h3>\r\n                                <ppc-content key="glassDoorHeading">\r\n                                    Glassdoor Reviews\r\n                                </ppc-content>\r\n                            </h3>\r\n                        </div>\r\n                        <div class="content-block">\r\n                            <div class="glassdoor-rating-container">\r\n                                <div class="rating"> \r\n                                    <span class="rating-text cell">${employerData.companyAverageRating}</span>\r\n                                    <div class="star-rating cell"> \r\n                                        <div class="phs-rating-container"> \r\n                                            <i class="icon icon-star"></i> \r\n                                            <i class="icon icon-star"></i> \r\n                                            <i class="icon icon-star"></i> \r\n                                            <i class="icon icon-star"></i> \r\n                                            <i class="icon icon-star"></i> \r\n                                            <div class="phs-rating-stars" css="width: ${(employerData.companyAverageRating * 100)/5}%"> \r\n                                                <i class="icon icon-star"></i> \r\n                                                <i class="icon icon-star"></i> \r\n                                                <i class="icon icon-star"></i> \r\n                                                <i class="icon icon-star"></i> \r\n                                                <i class="icon icon-star"></i> \r\n                                            </div> \r\n                                        </div>\r\n                                    </div> \r\n                                </div> \r\n                                <div class="figure-box">\r\n                                    <figure class="cell">\r\n                                        <img show.bind="ceoData.image.src" src.bind="ceoData.image.src" class="img-circle" alt="CEO of Microsoft" key-alt="ceoMicrosoft">\r\n                                        <ppc-content type="image">\r\n                                            <img show.bind="!ceoData.image.src" src="assets/images/default-profile.png" class="img-circle" alt="${ceoData.title}">\r\n                                        </ppc-content>\r\n                                    </figure>\r\n                                    <div class="cell">\r\n                                        <h5 class="ceo-name">${ceoData.name}</h5>\r\n                                        <div class="ceo-title">${ceoData.title}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="approve-status">\r\n                                        <div class="cell">\r\n                \r\n                                            <canvas class="ceoExperienceDonut" width="${donut.rw}" height="${donut.rh}"></canvas>\r\n                                                <div class="interview-exp-percent">${ceoData.pctApprove}%</div>\r\n                                            \r\n                                            </div>\r\n                                        <div class="cell">\r\n                                            <h5>\r\n                                                <ppc-content key="ceoApproveText">\r\n                                                    Approve of CEO\r\n                                                </ppc-content>\r\n                                            </h5>\r\n                                            <span class="sub-title">${ceoData.numberOfRatings} <span key="ratingsText">Ratings</span></span>\r\n                                        </div>\r\n                                </div>\r\n                                <div class="interview-experience-block">\r\n                                    <div class="cell">\r\n                                        <canvas class="interviewExperienceDonut" width="${donut.rw}" height="${donut.rh}"></canvas>\r\n                                        \r\n                                    </div>\r\n                                    <div class="cell">\r\n                                        <h5 class="ine-heading" aria-label="Interview Experience">\r\n                                            <ppc-content key="interviewExp">\r\n                                                Interview Experience\r\n                                            </ppc-content>\r\n                                        </h5>\r\n                                        <ul>\r\n                                            <li class="positive-label">\r\n                                                <span class="positive-label-text"><ppc-content key="positiveText">Positive</ppc-content></span> \r\n                                                <span>${employerData.overallPosExperiencePercent}%</span>\r\n                                            </li>\r\n                                            <li class="neutral-label">\r\n                                                <span class="positive-label-text"><ppc-content key="neutralText">Neutral</ppc-content></span> \r\n                                                <span>${employerData.overallNeutExperiencePercent}%</span>\r\n                                            </li>\r\n                                            <li class="negative-label" aria-label="${employerData.overallNegExperiencePercent}% Negative">\r\n                                                <span class="positive-label-text"><ppc-content key="negetiveText">Negative</ppc-content></span> \r\n                                                <span>${employerData.overallNegExperiencePercent}%</span>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>    \r\n                        </div>\r\n                        <div class="powered-by">\r\n                            <ppc-content key="poweredByText">\r\n                                powered by \r\n                            </ppc-content>\r\n                            <ppc-content type="image">\r\n                                <img src="../assets/images/glassdoor_logo.png" alt="Glassdoor" key-alt="gdLogo">\r\n                            </ppc-content>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n</template>'}),define("components",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["v1/ph-oauthsignin","v3/ph-global-search","v1/ph-language-selector","v3/ph-job-cart-count","v1/ph-glassdoor-widget"]}),define("main",["require","exports","./environment","./components"],function(e,t,o,i){"use strict";function r(e){e.use.standardConfiguration().plugin("ph-common").globalResources(i.default),o.default.debug&&e.use.developmentLogging(),window&&(window.localAurelia=e),window.pht=window.pht||{};for(var t=document.querySelectorAll("div.ph-widget-target[data-widget]"),r=0;r<t.length;r++){var n=t[r];if(n){var a=n.getAttribute("type");if(!a||"static"!=a){var s=n.innerHTML,c=n.getAttribute("as-element"),l=n.getAttribute("view")||"default";s&&s.trim().length&&(pht[c+"-"+l]=s.trim()),n.innerHTML=""}}}e.start().then(function(){return e.enhance({},document.body)})}P.config({warnings:{wForgottenReturn:!1}}),t.configure=r}),document&&document.body&&document.body.setAttribute("aurelia-app","main");